<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Demo - AGI Trinity</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xz/fonts@1/serve/plus-jakarta-sans.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .typing-indicator span {
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .agent-response {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header glass">
        <div class="header-content">
            <a href="index.html" class="logo">
                <div class="logo-icon">T</div>
                <span class="logo-text gradient-text">AGI Trinity</span>
            </a>

            <nav class="nav">
                <a href="index.html">Home</a>
                <a href="agents.html">Agents</a>
                <a href="strategies.html">Strategies</a>
                <a href="demo.html" class="active">Demo</a>
                <a href="docs.html">Docs</a>
            </nav>

            <a href="https://github.com/hwkim3330/agi" target="_blank" class="btn btn-primary">
                GitHub
            </a>
        </div>
    </header>

    <!-- Demo Section -->
    <section style="padding-top: 100px; min-height: 100vh;">
        <div class="container" style="max-width: 1000px; padding: 2rem;">
            <h1 style="font-size: 2.5rem; font-weight: 700; text-align: center; margin-bottom: 0.5rem;" class="gradient-text">Live Demo</h1>
            <p style="text-align: center; color: #9ca3af; margin-bottom: 2rem;">
                ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ Trinityì˜ ë©€í‹°ì—ì´ì „íŠ¸ í•©ì˜ ê³¼ì •ì„ ì²´í—˜í•´ë³´ì„¸ìš”
            </p>

            <!-- Input Section -->
            <div class="glass" style="border-radius: 1rem; padding: 1.5rem; margin-bottom: 2rem;">
                <div style="margin-bottom: 1rem;">
                    <label style="display: block; color: #9ca3af; font-size: 0.875rem; margin-bottom: 0.5rem;">ì§ˆë¬¸ ì…ë ¥</label>
                    <input type="text" id="prompt-input"
                           placeholder="ì˜ˆ: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì˜ ì¥ë‹¨ì ì„ ë¶„ì„í•´ì£¼ì„¸ìš”"
                           style="width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 0.75rem; padding: 1rem; color: white; font-size: 1rem;">
                </div>

                <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
                    <!-- Strategy -->
                    <div>
                        <label style="display: block; color: #9ca3af; font-size: 0.75rem; margin-bottom: 0.5rem;">í•©ì˜ ì „ëµ</label>
                        <select id="strategy-select" style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 0.5rem; padding: 0.5rem 1rem; color: white;">
                            <option value="vote">Vote</option>
                            <option value="synthesis">Synthesis</option>
                            <option value="debate">Debate</option>
                            <option value="specialist">Specialist</option>
                        </select>
                    </div>

                    <!-- Agents -->
                    <div>
                        <label style="display: block; color: #9ca3af; font-size: 0.75rem; margin-bottom: 0.5rem;">ì—ì´ì „íŠ¸</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.25rem; cursor: pointer;">
                                <input type="checkbox" id="agent-claude" checked style="accent-color: #f97316;">
                                <span style="color: #f97316; font-size: 0.875rem;">Claude</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.25rem; cursor: pointer;">
                                <input type="checkbox" id="agent-gemini" checked style="accent-color: #3b82f6;">
                                <span style="color: #3b82f6; font-size: 0.875rem;">Gemini</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.25rem; cursor: pointer;">
                                <input type="checkbox" id="agent-gpt" checked style="accent-color: #10b981;">
                                <span style="color: #10b981; font-size: 0.875rem;">GPT</span>
                            </label>
                        </div>
                    </div>

                    <button onclick="runDemo()" id="run-btn" class="btn btn-primary" style="margin-left: auto;">
                        ì‹¤í–‰
                    </button>
                </div>

                <!-- Example Questions -->
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1);">
                    <span style="color: #6b7280; font-size: 0.75rem;">ì˜ˆì‹œ ì§ˆë¬¸:</span>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.5rem;">
                        <button onclick="setQuestion('ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì˜ ì¥ë‹¨ì ')" style="background: rgba(99,102,241,0.1); border: 1px solid rgba(99,102,241,0.3); border-radius: 9999px; padding: 0.25rem 0.75rem; color: #a5b4fc; font-size: 0.75rem; cursor: pointer;">ì•„í‚¤í…ì²˜ ë¶„ì„</button>
                        <button onclick="setQuestion('Pythonì—ì„œ async/await ì‚¬ìš©ë²•')" style="background: rgba(249,115,22,0.1); border: 1px solid rgba(249,115,22,0.3); border-radius: 9999px; padding: 0.25rem 0.75rem; color: #fdba74; font-size: 0.75rem; cursor: pointer;">ì½”ë“œ ì§ˆë¬¸</button>
                        <button onclick="setQuestion('2024ë…„ AI ì‹œì¥ íŠ¸ë Œë“œ ë¶„ì„')" style="background: rgba(59,130,246,0.1); border: 1px solid rgba(59,130,246,0.3); border-radius: 9999px; padding: 0.25rem 0.75rem; color: #93c5fd; font-size: 0.75rem; cursor: pointer;">ì‹œì¥ ë¶„ì„</button>
                        <button onclick="setQuestion('ìƒˆë¡œìš´ SaaS ì œí’ˆ ì•„ì´ë””ì–´')" style="background: rgba(16,185,129,0.1); border: 1px solid rgba(16,185,129,0.3); border-radius: 9999px; padding: 0.25rem 0.75rem; color: #6ee7b7; font-size: 0.75rem; cursor: pointer;">ì°½ì˜ì  ì•„ì´ë””ì–´</button>
                    </div>
                </div>
            </div>

            <!-- Agent Responses -->
            <div id="agents-section" style="display: none; margin-bottom: 2rem;">
                <h3 style="font-weight: 600; margin-bottom: 1rem; color: #9ca3af;">ì—ì´ì „íŠ¸ ì‘ë‹µ</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem;">
                    <!-- Claude -->
                    <div id="claude-response" class="glass agent-response" style="border-radius: 1rem; padding: 1rem; border-left: 3px solid #f97316; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                            <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #f97316, #dc2626); display: flex; align-items: center; justify-content: center; font-size: 0.875rem;">C</div>
                            <div>
                                <div style="font-weight: 600;">Claude</div>
                                <div style="font-size: 0.75rem; color: #9ca3af;" id="claude-latency">-</div>
                            </div>
                        </div>
                        <div id="claude-content" style="font-size: 0.875rem; color: #d1d5db; max-height: 200px; overflow-y: auto;"></div>
                    </div>

                    <!-- Gemini -->
                    <div id="gemini-response" class="glass agent-response" style="border-radius: 1rem; padding: 1rem; border-left: 3px solid #3b82f6; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                            <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #3b82f6, #06b6d4); display: flex; align-items: center; justify-content: center; font-size: 0.875rem;">G</div>
                            <div>
                                <div style="font-weight: 600;">Gemini</div>
                                <div style="font-size: 0.75rem; color: #9ca3af;" id="gemini-latency">-</div>
                            </div>
                        </div>
                        <div id="gemini-content" style="font-size: 0.875rem; color: #d1d5db; max-height: 200px; overflow-y: auto;"></div>
                    </div>

                    <!-- GPT -->
                    <div id="gpt-response" class="glass agent-response" style="border-radius: 1rem; padding: 1rem; border-left: 3px solid #10b981; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                            <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #10b981, #14b8a6); display: flex; align-items: center; justify-content: center; font-size: 0.875rem;">G</div>
                            <div>
                                <div style="font-weight: 600;">GPT</div>
                                <div style="font-size: 0.75rem; color: #9ca3af;" id="gpt-latency">-</div>
                            </div>
                        </div>
                        <div id="gpt-content" style="font-size: 0.875rem; color: #d1d5db; max-height: 200px; overflow-y: auto;"></div>
                    </div>
                </div>
            </div>

            <!-- Loading -->
            <div id="loading" style="display: none; text-align: center; padding: 3rem;">
                <div class="typing-indicator" style="display: inline-flex; gap: 0.25rem;">
                    <span style="width: 10px; height: 10px; background: var(--primary); border-radius: 50%;"></span>
                    <span style="width: 10px; height: 10px; background: var(--primary); border-radius: 50%;"></span>
                    <span style="width: 10px; height: 10px; background: var(--primary); border-radius: 50%;"></span>
                </div>
                <p style="color: #9ca3af; margin-top: 1rem;" id="loading-text">ì—ì´ì „íŠ¸ë“¤ì´ ë¶„ì„ ì¤‘...</p>
            </div>

            <!-- Consensus Result -->
            <div id="result-section" style="display: none;">
                <div class="glass-strong" style="border-radius: 1rem; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                        <h3 style="font-weight: 600;">Trinity í•©ì˜ ê²°ê³¼</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <span id="confidence-badge" class="badge badge-success">ì‹ ë¢°ë„: -</span>
                            <span id="strategy-badge" class="badge badge-info">ì „ëµ: -</span>
                        </div>
                    </div>
                    <div id="result-content" style="background: rgba(0,0,0,0.3); border-radius: 0.75rem; padding: 1rem; white-space: pre-wrap; color: #d1d5db; max-height: 400px; overflow-y: auto;"></div>
                </div>
            </div>

            <!-- Metrics -->
            <div id="metrics-section" style="display: none; margin-top: 2rem;">
                <h3 style="font-weight: 600; margin-bottom: 1rem; color: #9ca3af;">Performance Metrics</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div class="glass" style="border-radius: 0.75rem; padding: 1rem; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700;" id="total-latency" class="gradient-text">0ms</div>
                        <div style="font-size: 0.75rem; color: #9ca3af;">ì´ ì‘ë‹µ ì‹œê°„</div>
                    </div>
                    <div class="glass" style="border-radius: 0.75rem; padding: 1rem; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: #10b981;" id="agents-count">0/3</div>
                        <div style="font-size: 0.75rem; color: #9ca3af;">ì‘ë‹µ ì—ì´ì „íŠ¸</div>
                    </div>
                    <div class="glass" style="border-radius: 0.75rem; padding: 1rem;">
                        <div style="font-size: 0.75rem; color: #9ca3af; margin-bottom: 0.5rem;">ì‘ë‹µ ì‹œê°„ ë¹„êµ</div>
                        <canvas id="latency-chart" height="60"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>
            <span class="gradient-text" style="font-weight: 600;">AGI Trinity</span> - Multi-Agent AI Orchestrator<br>
            <span style="font-size: 0.875rem;">Built with Claude Opus 4.5, Gemini 3 Pro, GPT-5.1</span>
        </p>
    </footer>

    <script src="js/main.js"></script>
    <script>
        let latencyChart = null;

        function setQuestion(q) {
            document.getElementById('prompt-input').value = q;
        }

        async function runDemo() {
            const prompt = document.getElementById('prompt-input').value;
            if (!prompt) {
                alert('ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            const strategy = document.getElementById('strategy-select').value;
            const useClaude = document.getElementById('agent-claude').checked;
            const useGemini = document.getElementById('agent-gemini').checked;
            const useGpt = document.getElementById('agent-gpt').checked;

            // Reset UI
            document.getElementById('agents-section').style.display = 'none';
            document.getElementById('result-section').style.display = 'none';
            document.getElementById('metrics-section').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('run-btn').disabled = true;

            const agents = [];
            if (useClaude) agents.push('claude');
            if (useGemini) agents.push('gemini');
            if (useGpt) agents.push('gpt');

            // Simulate agent responses
            const responses = [];
            const startTime = Date.now();

            document.getElementById('agents-section').style.display = 'block';

            for (const agent of agents) {
                document.getElementById('loading-text').textContent = `${agent} ì‘ë‹µ ëŒ€ê¸° ì¤‘...`;
                await sleep(Math.random() * 1500 + 500);

                const latency = (Math.random() * 2 + 0.5).toFixed(2);
                const response = generateMockResponse(agent, prompt, strategy);

                responses.push({
                    agent,
                    content: response,
                    latency: parseFloat(latency),
                    success: Math.random() > 0.05
                });

                // Show agent response
                document.getElementById(`${agent}-response`).style.display = 'block';
                document.getElementById(`${agent}-latency`).textContent = `${(latency * 1000).toFixed(0)}ms`;
                document.getElementById(`${agent}-content`).textContent = response;
            }

            // Calculate consensus
            document.getElementById('loading-text').textContent = 'í•©ì˜ ê³„ì‚° ì¤‘...';
            await sleep(500);

            const totalLatency = Date.now() - startTime;
            const consensus = calculateConsensus(responses, strategy, prompt);

            // Show results
            document.getElementById('loading').style.display = 'none';
            document.getElementById('result-section').style.display = 'block';
            document.getElementById('metrics-section').style.display = 'block';
            document.getElementById('run-btn').disabled = false;

            document.getElementById('result-content').textContent = consensus.content;
            document.getElementById('confidence-badge').textContent = `ì‹ ë¢°ë„: ${(consensus.confidence * 100).toFixed(0)}%`;
            document.getElementById('strategy-badge').textContent = `ì „ëµ: ${strategy}`;
            document.getElementById('total-latency').textContent = `${totalLatency}ms`;
            document.getElementById('agents-count').textContent = `${responses.filter(r => r.success).length}/${agents.length}`;

            // Update chart
            updateLatencyChart(responses);
        }

        function generateMockResponse(agent, prompt, strategy) {
            const templates = {
                claude: `[Claude Opus 4.5 ë¶„ì„]

"${prompt}"ì— ëŒ€í•œ ê¸°ìˆ ì  ë¶„ì„:

1. ì•„í‚¤í…ì²˜ ê´€ì 
- êµ¬ì¡°ì  ì¥ì ê³¼ ë‹¨ì  ë¶„ì„
- í™•ì¥ì„± ê³ ë ¤ì‚¬í•­
- ìœ ì§€ë³´ìˆ˜ì„± í‰ê°€

2. êµ¬í˜„ ì„¸ë¶€ì‚¬í•­
- ê¶Œì¥ ê¸°ìˆ  ìŠ¤íƒ
- ëª¨ë²” ì‚¬ë¡€ ì ìš©
- ì ì¬ì  ë¬¸ì œì 

3. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- ì·¨ì•½ì  ë¶„ì„
- ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

ê²°ë¡ : ì¢…í•©ì ì¸ ê¸°ìˆ  ê²€í†  ì™„ë£Œ.`,

                gemini: `[Gemini 3 Pro ë¦¬ì„œì¹˜]

"${prompt}"ì— ëŒ€í•œ ë°ì´í„° ê¸°ë°˜ ë¶„ì„:

ğŸ“Š ì‹œì¥ ë°ì´í„°
- ê´€ë ¨ í†µê³„ ë° íŠ¸ë Œë“œ
- ì—…ê³„ ë™í–¥ ë¶„ì„
- ê²½ìŸ í™˜ê²½ íŒŒì•…

ğŸ” íŒ©íŠ¸ ì²´í‚¹
- ê²€ì¦ëœ ì •ë³´ ê¸°ë°˜
- ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¶œì²˜
- ìµœì‹  ë°ì´í„° ë°˜ì˜

ğŸ“ˆ ë¶„ì„ ê²°ê³¼
- ì •ëŸ‰ì  í‰ê°€
- ì •ì„±ì  ì¸ì‚¬ì´íŠ¸
- ì¢…í•© ê¶Œì¥ì‚¬í•­

Deep Think ì¶”ë¡ ì„ í†µí•´ ë„ì¶œëœ ê²°ë¡ ì…ë‹ˆë‹¤.`,

                gpt: `[GPT-5.1 ì°½ì˜ì  ì œì•ˆ]

"${prompt}"ì— ëŒ€í•œ í˜ì‹ ì  ì ‘ê·¼:

ğŸ’¡ ì•„ì´ë””ì–´ 1: ìƒˆë¡œìš´ ê´€ì 
- ê¸°ì¡´ ë°©ì‹ì˜ ì¬í•´ì„
- ì°½ì˜ì  ëŒ€ì•ˆ ì œì‹œ
- ì°¨ë³„í™” í¬ì¸íŠ¸

ğŸ’¡ ì•„ì´ë””ì–´ 2: ì „ëµì  ì ‘ê·¼
- ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš
- ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë°©ì•ˆ
- ì„±ê³µ ì§€í‘œ ì„¤ì •

ğŸ’¡ ì•„ì´ë””ì–´ 3: ë¯¸ë˜ ë¹„ì „
- ì¥ê¸°ì  ë°œì „ ë°©í–¥
- í™•ì¥ ê°€ëŠ¥ì„±
- í˜ì‹ ì  ê¸°íšŒ

í†µí•© ì¶”ë¡ ì„ í†µí•œ ì¢…í•© ì œì•ˆì…ë‹ˆë‹¤.`
            };

            return templates[agent] || `${agent}ì˜ ì‘ë‹µ`;
        }

        function calculateConsensus(responses, strategy, prompt) {
            const successful = responses.filter(r => r.success);
            const confidence = successful.length / responses.length;

            let content;
            switch (strategy) {
                case 'synthesis':
                    content = successful.map(r => r.content).join('\n\n---\n\n');
                    break;
                case 'debate':
                    content = `## ì¢…í•© í† ë¡  ê²°ê³¼\n\nê° AIì˜ ê´€ì ì„ ì¢…í•©í•œ ê²°ê³¼ì…ë‹ˆë‹¤:\n\n${successful.map(r => r.content).join('\n\n')}`;
                    break;
                case 'specialist':
                    // Auto-select based on keywords
                    let specialist = 'claude';
                    if (prompt.includes('ì‹œì¥') || prompt.includes('ë¶„ì„') || prompt.includes('ë°ì´í„°')) {
                        specialist = 'gemini';
                    } else if (prompt.includes('ì•„ì´ë””ì–´') || prompt.includes('ì°½ì˜') || prompt.includes('ì „ëµ')) {
                        specialist = 'gpt';
                    }
                    const specialistResponse = successful.find(r => r.agent === specialist) || successful[0];
                    content = `[Specialist: ${specialist} ì„ íƒ]\n\n${specialistResponse?.content || 'No response'}`;
                    break;
                default: // vote
                    const best = successful.reduce((a, b) => a.content.length > b.content.length ? a : b, successful[0]);
                    content = `[Vote ìŠ¹ì: ${best?.agent}]\n\n${best?.content || 'No response'}`;
            }

            return { content, confidence, strategy };
        }

        function updateLatencyChart(responses) {
            const ctx = document.getElementById('latency-chart').getContext('2d');

            if (latencyChart) {
                latencyChart.destroy();
            }

            latencyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: responses.map(r => r.agent),
                    datasets: [{
                        data: responses.map(r => r.latency * 1000),
                        backgroundColor: responses.map(r => {
                            switch (r.agent) {
                                case 'claude': return 'rgba(249, 115, 22, 0.7)';
                                case 'gemini': return 'rgba(59, 130, 246, 0.7)';
                                case 'gpt': return 'rgba(16, 185, 129, 0.7)';
                                default: return 'rgba(99, 102, 241, 0.7)';
                            }
                        })
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { ticks: { color: '#9ca3af' }, grid: { display: false } },
                        y: { ticks: { color: '#9ca3af' }, grid: { color: 'rgba(255,255,255,0.1)' } }
                    }
                }
            });
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
